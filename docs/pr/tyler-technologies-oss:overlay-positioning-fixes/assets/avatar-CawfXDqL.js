import{r as p,a as m}from"./lit-element-B3QVTycr.js";import{E as v,x as l}from"./lit-html-CuBe1DX_.js";import{n as f,t as c}from"./property-2VT-dgmE.js";import{r as d}from"./state-3jnPnrDt.js";import{o as u}from"./style-map-CeP1Mntv.js";import{e as y}from"./class-map-CuXcqkpw.js";import{C as _}from"./constants-DHnR0122.js";const b=`${_}avatar`,T={DEFAULT_LETTER_COUNT:2},h={elementName:b,numbers:T},A=':host{display:inline-block}:host([hidden]){display:none}.forge-avatar{--_avatar-size: var(--forge-avatar-size, 40px);--_avatar-background: var(--forge-avatar-background, var(--forge-theme-tertiary, #3d5afe));--_avatar-color: var(--forge-avatar-color, var(--forge-theme-on-tertiary, #ffffff));--_avatar-transition-duration: var(--forge-avatar-transition-duration, var(--forge-animation-duration-short4, .2s));--_avatar-transition-timing: var(--forge-avatar-transition-timing, var(--forge-animation-easing-standard, cubic-bezier(.2, 0, 0, 1)));--_avatar-shape: var(--forge-avatar-shape, calc(var(--forge-shape-round, 50%) * var(--forge-shape-factor, 1)))}.forge-avatar{display:flex;align-items:center;justify-content:center;overflow:hidden;transition:height var(--_avatar-transition-duration) var(--_avatar-transition-timing),width var(--_avatar-transition-duration) var(--_avatar-transition-timing);border-radius:var(--_avatar-shape);box-sizing:border-box;width:var(--_avatar-size);height:var(--_avatar-size);background-color:var(--_avatar-background);background-position:center;background-repeat:no-repeat;background-size:cover;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--forge-typography-subheading2-font-family, var(--forge-typography-font-family, "Roboto", sans-serif));font-size:var(--forge-typography-subheading2-font-size, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-subheading2-font-size-scale, 1)));font-weight:var(--forge-typography-subheading2-font-weight, 400);line-height:var(--forge-typography-subheading2-line-height, calc(var(--forge-typography-font-size, 1rem) * var(--forge-typography-subheading2-line-height-scale, 1.25)));letter-spacing:var(--forge-typography-subheading2-letter-spacing, normal);text-transform:var(--forge-typography-subheading2-text-transform, inherit);text-decoration:var(--forge-typography-subheading2-text-decoration, inherit);color:var(--_avatar-color)}.forge-avatar--image{background-color:inherit}';var C=Object.defineProperty,E=Object.getOwnPropertyDescriptor,i=(a,t,n,o)=>{for(var r=o>1?void 0:o?E(t,n):t,s=a.length-1,g;s>=0;s--)(g=a[s])&&(r=(o?g(t,n,r):g(r))||r);return o&&r&&C(t,n,r),r};const U=(a,t)=>a!=null&&a.trim()?t===1?a[0].toUpperCase():(a.match(/\S+/g)??[]).slice(0,t).reduce((o,r)=>o+=r[0].toUpperCase(),""):"",z="forge-avatar";let e=class extends m{constructor(){super(...arguments),this.text="",this.letterCount=h.numbers.DEFAULT_LETTER_COUNT,this.imageUrl=""}willUpdate(a){a.has("imageUrl")&&this._tryLoadImage()}render(){return l`
      <div
        aria-hidden="true"
        part="root"
        class=${y({"forge-avatar":!0,"forge-avatar--image":!!this._image})}
        style=${this._image?u({backgroundImage:`url(${this._image.src})`}):v}>
        <slot>${this._image?v:U(this.text,this.letterCount??h.numbers.DEFAULT_LETTER_COUNT)}</slot>
      </div>
    `}async _tryLoadImage(){if(this.imageUrl){const a=new Image;a.onload=()=>this._image=a,a.onerror=()=>this._image=void 0,a.src=this.imageUrl}else this._image=void 0}};e.styles=p(A);i([f()],e.prototype,"text",2);i([f({type:Number,attribute:"letter-count"})],e.prototype,"letterCount",2);i([f({type:String,attribute:"image-url"})],e.prototype,"imageUrl",2);i([d()],e.prototype,"_image",2);e=i([c(z)],e);export{h as A,e as a,z as b};
