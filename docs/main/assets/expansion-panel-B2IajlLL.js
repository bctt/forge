import{C as g,o as f,B as u,p as E,b,q as h}from"./constants-DjE6emXm.js";import{B as O,c as m}from"./base-adapter-F7QHxK2H.js";import{G as T,N as y}from"./index-ByifSpfC.js";import{I as A,a as I}from"./icon-DHpZ4R73.js";import"./index-Dh0vMUMR.js";const P=`${g}open-icon`,N={OPEN:"open",ORIENTATION:"orientation",ROTATION:"rotation"},C={...N},w={ORIENTATION:"vertical",ROTATION:"full"},r={elementName:P,observedAttributes:N,attributes:C,defaults:w},L=`<template>
  <span class="forge-open-icon" part="root">
    <slot>
      <forge-icon class="icon" part="icon" name="keyboard_arrow_down"></forge-icon>
    </slot>
  </span>
</template>
`,R=":host{display:inline-flex}:host([hidden]){display:none}.forge-open-icon{--_open-icon-color: var(--forge-open-icon-color, var(--forge-theme-text-high, rgba(0, 0, 0, .87)));--_open-icon-size: var(--forge-open-icon-size, 24px);--_open-icon-height: var(--forge-open-icon-height, var(--_open-icon-size));--_open-icon-width: var(--forge-open-icon-width, var(--_open-icon-size));--_open-icon-initial-rotation: var(--forge-open-icon-initial-rotation, 0);--_open-icon-open-rotation: var(--forge-open-icon-open-rotation, 180deg);--_open-icon-animation-duration: var(--forge-open-icon-animation-duration, var(--forge-animation-duration-medium4, .4s));--_open-icon-half-animation-duration: var(--forge-open-icon-half-animation-duration, var(--forge-animation-duration-short4, .2s));--_open-icon-animation-timing: var(--forge-open-icon-animation-timing, var(--forge-animation-easing-standard, cubic-bezier(.2, 0, 0, 1)))}.forge-open-icon{height:var(--_open-icon-height);width:var(--_open-icon-width);color:var(--_open-icon-color);rotate:var(--_open-icon-initial-rotation);transition:rotate var(--_open-icon-animation-duration) var(--_open-icon-animation-timing)}::slotted(forge-icon),forge-icon{--forge-icon-size: var(--_open-icon-size)}:host([open]) .forge-open-icon{rotate:var(--_open-icon-open-rotation)}:host([orientation=horizontal]) .forge-open-icon{--_open-icon-initial-rotation: var(--forge-open-icon-initial-rotation, -90deg);--_open-icon-open-rotation: var(--forge-open-icon-open-rotation, 90deg)}:host([rotation=half]) .forge-open-icon{--_open-icon-open-rotation: var(--forge-open-icon-open-rotation, -90deg);--_open-icon-animation-duration: var(--_open-icon-half-animation-duration)}:host([orientation=horizontal][rotation=half]) .forge-open-icon{--_open-icon-initial-rotation: var(--forge-open-icon-initial-rotation, -90deg);--_open-icon-open-rotation: var(--forge-open-icon-open-rotation, 0);--_open-icon-animation-duration: var(--_open-icon-half-animation-duration)}@media prefers-reduced-motion{.forge-open-icon{transition:none}}";var x=Object.defineProperty,z=Object.getOwnPropertyDescriptor,S=(e,t,n,a)=>{for(var i=a>1?void 0:a?z(t,n):t,s=e.length-1,p;s>=0;s--)(p=e[s])&&(i=(a?p(t,n,i):p(i))||i);return a&&i&&x(t,n,i),i};let _=class extends u{constructor(){super(),this._open=!1,this._orientation=r.defaults.ORIENTATION,this._rotation=r.defaults.ROTATION,A.define([T,y]),E(this,L,R)}static get observedAttributes(){return Object.values(r.observedAttributes)}attributeChangedCallback(e,t,n){switch(e){case r.attributes.OPEN:this.open=b(n);break;case r.attributes.ORIENTATION:this.orientation=n;break;case r.attributes.ROTATION:this.rotation=n;break}}get open(){return this._open}set open(e){e=!!e,this._open!==e&&(this._open=e,this.toggleAttribute(r.attributes.OPEN,e))}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.setAttribute(r.attributes.ORIENTATION,e))}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.setAttribute(r.attributes.ROTATION,e))}};_=S([f({name:r.elementName,dependencies:[I]})],_);const d=`${g}expansion-panel`,v={OPEN:"open",ORIENTATION:"orientation",ANIMATION_TYPE:"animation-type"},H={...v,OPENING:"opening"},$={HIDDEN:"hidden"},D={HEADER:".header",CONTENT:".content",INNER:".inner",IGNORE:":is([data-forge-ignore],[forge-ignore])",OPEN_ICON:`:is([slot=header] ${r.elementName}, ${r.elementName}[slot^=header])`},k={TOGGLE:`${d}-toggle`,ANIMATION_COMPLETE:`${d}-animation-complete`},o={elementName:d,observedAttributes:v,attributes:H,classes:$,selectors:D,events:k},G=Symbol("emulateUserToggle");class M extends O{constructor(t){super(t),this._transitionStartListener=this._onTransitionStart.bind(this),this._transitionEndListener=this._onTransitionEnd.bind(this),this._headerElement=h(this._component,o.selectors.HEADER),this._contentElement=h(this._component,o.selectors.CONTENT),this._innerElement=h(this._component,o.selectors.INNER)}setAnimationCompleteListener(t){this._transitionCompleteListener=t,this._contentElement.addEventListener("transitionstart",this._transitionStartListener),this._contentElement.addEventListener("transitionend",this._transitionEndListener)}addHeaderListener(t,n){this._headerElement.addEventListener(t,n)}tryToggleOpenIcon(t){const n=this._component.querySelector(o.selectors.OPEN_ICON);n&&(n.open=t)}setContentVisibility(t){this._contentElement.classList.toggle(o.classes.HIDDEN,!t)}_onTransitionStart(t){t.propertyName.startsWith("grid-template")&&this.toggleHostAttribute(o.attributes.OPENING,!0)}_onTransitionEnd(t){t.propertyName.startsWith("grid-template")&&(this.toggleHostAttribute(o.attributes.OPENING,!1),this._transitionCompleteListener())}animationStart(){this._innerElement.style.overflow="hidden"}animationEnd(){this._innerElement.style.removeProperty("overflow")}}class B{constructor(t){this._adapter=t,this._open=!1,this._orientation="vertical",this._animationType="default",this._clickListener=this._onClick.bind(this),this._keydownListener=this._onKeydown.bind(this),this._animationCompleteListener=this._onAnimationComplete.bind(this)}initialize(){this._adapter.addHeaderListener("click",this._clickListener),this._adapter.addHeaderListener("keydown",this._keydownListener),this._adapter.setAnimationCompleteListener(this._animationCompleteListener)}_onClick(t){t.composedPath().find(a=>a.nodeType===Node.ELEMENT_NODE&&a.matches(o.selectors.IGNORE))||(t.stopPropagation(),this._toggle(),this.dispatchToggleEvent())}_onKeydown(t){(t.key===" "||t.key==="Enter")&&(t.stopPropagation(),t.preventDefault(),this._toggle(),this.dispatchToggleEvent())}_onAnimationComplete(){this._open?this._animationType!=="none"&&this._adapter.animationEnd():this._adapter.setContentVisibility(!1),this._adapter.dispatchHostEvent(new CustomEvent(o.events.ANIMATION_COMPLETE,{detail:this._open}))}_togglePanel(){this._adapter.toggleHostAttribute(o.attributes.OPEN,this._open),this._adapter.tryToggleOpenIcon(this._open),this._open&&(this._animationType!=="none"&&this._adapter.animationStart(),this._adapter.setContentVisibility(!0))}dispatchToggleEvent(){const t=new CustomEvent(o.events.TOGGLE,{detail:this._open,bubbles:!0,composed:!0});this._adapter.dispatchHostEvent(t)}_toggle(){this.open=!this.open}get open(){return this._open}set open(t){t=!!t,this._open!==t&&(this._open=t,this._togglePanel())}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._adapter.setHostAttribute(o.attributes.ORIENTATION,this._orientation))}get animationType(){return this._animationType}set animationType(t){this._animationType!==t&&(this._animationType=t,this._adapter.setHostAttribute(o.attributes.ANIMATION_TYPE,this._animationType))}}const j=`<template>
  <div class="forge-expansion-panel" part="root">
    <div class="header" part="header">
      <slot name="header"></slot>
    </div>
    <div class="content hidden" part="content">
      <div class="inner">
        <slot></slot>
      </div>
    </div>
  </div>
</template>
`,K=":host{display:block}:host([hidden]){display:none}.forge-expansion-panel{--_expansion-panel-animation-duration: var(--forge-expansion-panel-animation-duration, var(--forge-animation-duration-medium4, .4s));--_expansion-panel-animation-easing: var(--forge-expansion-panel-animation-easing, var(--forge-animation-easing-standard, cubic-bezier(.2, 0, 0, 1)))}.header{outline:none;-webkit-tap-highlight-color:transparent;cursor:pointer}.content{display:grid;grid-template-rows:0fr;transition-property:visibility,opacity,grid-template-rows;transition-duration:var(--_expansion-panel-animation-duration);transition-timing-function:var(--_expansion-panel-animation-easing);min-height:0;opacity:0}.content .inner{display:grid;grid-template-rows:1fr}.hidden{visibility:hidden}@media (prefers-reduced-motion: reduce){.content{transition:none}}:host(:not([open])) .inner{overflow:hidden}:host([open]) .content{opacity:1}:host([open]:is(:not([orientation]),[orientation=vertical])) .content{grid-template-rows:1fr}:host([open][orientation=horizontal]) .content{grid-template-columns:1fr}:host([orientation=horizontal]) .forge-expansion-panel{display:grid;grid-template-columns:auto 1fr}:host([orientation=horizontal]) .content{transition-property:opacity,grid-template-columns;grid-template-rows:none;grid-template-columns:0fr}:host([animation-type=none]) .content{transition:none}";var Y=Object.defineProperty,q=Object.getOwnPropertyDescriptor,l=(e,t,n,a)=>{for(var i=a>1?void 0:a?q(t,n):t,s=e.length-1,p;s>=0;s--)(p=e[s])&&(i=(a?p(t,n,i):p(i))||i);return a&&i&&Y(t,n,i),i};let c=class extends u{static get observedAttributes(){return Object.values(o.observedAttributes)}constructor(){super(),E(this,j,K),this._core=new B(new M(this))}connectedCallback(){this._core.initialize()}attributeChangedCallback(e,t,n){switch(e){case o.observedAttributes.OPEN:this.open=b(n);break;case o.observedAttributes.ORIENTATION:this.orientation=n;break;case o.observedAttributes.ANIMATION_TYPE:this.animationType=n;break}}toggle(){this.open=!this.open}[G](e){this.open!==e&&(this.open=e,this._core.dispatchToggleEvent())}};l([m()],c.prototype,"open",2);l([m()],c.prototype,"orientation",2);l([m()],c.prototype,"animationType",2);c=l([f({name:o.elementName})],c);export{o as E,c as a,G as e};
