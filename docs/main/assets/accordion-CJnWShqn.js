import{m as p,C as _,n as d,B as m}from"./constants-CmaEVTEu.js";import{B as E,c as C}from"./base-adapter-Y8TBBZEm.js";import{E as r,a as L}from"./expansion-panel-CYEWAjhB.js";class u extends E{constructor(e){super(e)}getHostElement(){return this._component}isNestedPanel(e){return!e||!this._component.contains(e)?!1:p(e,this._component).some(t=>t.tagName.toLocaleLowerCase()===r.elementName)}getChildPanels(e){return e?Array.from(this._component.querySelectorAll(e)):Array.from(this._component.children).filter(t=>t.tagName.toLocaleLowerCase()===r.elementName)}addEventListener(e,s,t,a){t.addEventListener(e,s,a||!1)}removeEventListener(e,s,t){t.removeEventListener(e,s)}}const N=`${_}accordion`,f={PANEL_SELECTOR:"panel-selector"},o={elementName:N,attributes:f};class P{constructor(e){this._adapter=e}initialize(){this._attachListeners()}disconnect(){this._detachListeners()}_attachListeners(){this._hostInteractionCallback=e=>this._hostInteraction(e),this._adapter.addEventListener(r.events.TOGGLE,this._hostInteractionCallback,this._adapter.getHostElement())}_detachListeners(){this._hostInteractionCallback&&(this._adapter.removeEventListener(r.events.TOGGLE,this._hostInteractionCallback,this._adapter.getHostElement()),this._hostInteractionCallback=void 0)}_hostInteraction(e){switch(e.type){case r.events.TOGGLE:if(e.detail){e.stopPropagation();const s=e.target;if(this._adapter.isNestedPanel(s))return;this._adapter.getChildPanels(this._panelSelector).forEach(t=>{s!==t&&!this._adapter.isNestedPanel(t)&&(t.open=!1)})}break}}get panelSelector(){return this._panelSelector}set panelSelector(e){this._panelSelector!==e&&(this._panelSelector=e,this._adapter.setHostAttribute(o.attributes.PANEL_SELECTOR,this._panelSelector))}}var b=Object.defineProperty,A=Object.getOwnPropertyDescriptor,h=(n,e,s,t)=>{for(var a=t>1?void 0:t?A(e,s):e,i=n.length-1,c;i>=0;i--)(c=n[i])&&(a=(t?c(e,s,a):c(a))||a);return t&&a&&b(e,s,a),a};let l=class extends m{static get observedAttributes(){return[o.attributes.PANEL_SELECTOR]}constructor(){super(),this._core=new P(new u(this))}initializedCallback(){this._core.initialize()}disconnectedCallback(){this._core.disconnect()}attributeChangedCallback(n,e,s){switch(n){case o.attributes.PANEL_SELECTOR:this.panelSelector=s;break}}};h([C()],l.prototype,"panelSelector",2);l=h([d({name:o.elementName,dependencies:[L]})],l);
