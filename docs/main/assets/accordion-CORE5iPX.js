import{m as h,C as _,n as d,B as m}from"./constants-ngK8be3i.js";import{B as u,c as C}from"./base-adapter-uOfGA2wD.js";import{E as c,a as N}from"./expansion-panel-BGj9a3C4.js";class E extends u{constructor(e){super(e)}isNestedPanel(e){return!e||!this._component.contains(e)?!1:h(e,this._component).some(t=>t.tagName.toLocaleLowerCase()===c.elementName)}getChildPanels(e){return e?Array.from(this._component.querySelectorAll(e)):Array.from(this._component.children).filter(t=>t.tagName.toLocaleLowerCase()===c.elementName)}}const P=`${_}accordion`,S={PANEL_SELECTOR:"panel-selector"},n={elementName:P,attributes:S};class f{constructor(e){this._adapter=e,this._hostInteractionCallback=this._hostInteraction.bind(this)}initialize(){this._attachListeners()}_attachListeners(){this._adapter.addHostListener(c.events.TOGGLE,this._hostInteractionCallback)}_hostInteraction(e){if(!e.detail||this._panelSelector&&!e.target.matches(this._panelSelector)||(e.stopPropagation(),this._adapter.isNestedPanel(e.target)))return;this._adapter.getChildPanels(this._panelSelector).forEach(t=>{e.target!==t&&!this._adapter.isNestedPanel(t)&&(t.open=!1)})}get panelSelector(){return this._panelSelector}set panelSelector(e){this._panelSelector!==e&&(this._panelSelector=e,this._adapter.setHostAttribute(n.attributes.PANEL_SELECTOR,this._panelSelector))}}var A=Object.defineProperty,L=Object.getOwnPropertyDescriptor,p=(a,e,r,t)=>{for(var s=t>1?void 0:t?L(e,r):e,o=a.length-1,i;o>=0;o--)(i=a[o])&&(s=(t?i(e,r,s):i(s))||s);return t&&s&&A(e,r,s),s};let l=class extends m{static get observedAttributes(){return[n.attributes.PANEL_SELECTOR]}constructor(){super(),this._core=new f(new E(this))}connectedCallback(){this._core.initialize()}attributeChangedCallback(a,e,r){switch(a){case n.attributes.PANEL_SELECTOR:this.panelSelector=r;break}}};p([C()],l.prototype,"panelSelector",2);l=p([d({name:n.elementName,dependencies:[N]})],l);
