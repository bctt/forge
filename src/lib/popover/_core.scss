@use './variables';
@use '../core/styles/utils';
@use '../core/styles/tokens/popover/tokens';

@mixin provide-theme($theme) {
  @include utils.provide(tokens.$tokens, $theme, popover);
}

@mixin base {
  background-color: var(--_popover-background-color);
  border-radius: var(--_popover-border-radius);
  box-shadow: var(--_popover-box-shadow);
  border: var(--_popover-border-width) var(--_popover-border-style) var(--_popover-border-color);
  position: relative;
}

@mixin arrow {
  position: absolute;
  height: var(--_popover-arrow-height);
  width: var(--_popover-arrow-width);
  background-color: var(--_popover-arrow-background-color);
  box-shadow: var(--_popover-box-shadow);
  border: var(--_popover-border-width) var(--_popover-border-style) var(--_popover-border-color);
  transform: 
    translate(var(--_popover-arrow-translate-x), var(--_popover-arrow-translate-y))
    rotate(var(--_popover-arrow-rotation));
  clip-path: var(
    --_popover-arrow-clip-path,
    polygon(
      calc(var(--_popover-border-width) * -1) calc(var(--_popover-border-width) * -1),
      calc(100% + var(--_popover-border-width)) calc(var(--_popover-border-width) * -1),
      calc(100% + var(--_popover-border-width)) calc(100% + var(--_popover-border-width))
    )
  );
}

@mixin zoom-base {
  animation-duration: var(--_popover-zoom-duration);
  animation-timing-function: var(--_popover-zoom-timing);
  animation-name: zoomin;
  transform-origin: var(--_popover-zoomin-origin);
}

@mixin slide-base {
  animation-duration: var(--_popover-slide-duration);
  animation-timing-function: var(--_popover-slide-timing);
  animation-name: slidein;
}

@mixin fade-base {
  animation-duration: var(--_popover-fade-duration);
  animation-timing-function: var(--_popover-fade-timing);
  animation-name: fadein;
}
